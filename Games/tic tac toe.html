<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Heliplay — Tic Tac Toe Game</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <script src="/script.js" defer></script>
  </head>
  <body class="game-TicTacToe">
    <nav class="navbar navbar-expand-lg shadow-sm mb-0">
      <div class="container-fluid">
        <a href="/index.html" class="me-3">
          <img class="minilogo" src="/images/logo.png" alt="minilogo" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/Categories.html">Categories</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/contact.html">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="tictactoe-page">
      <h1>Tic Tac Toe</h1>
      <div class="board" id="board"></div>
      <div class="info" id="info">Player X's turn</div>
      <button onclick="restartGame()">Restart Game</button>
      <section class="game-rules mt-5">
        <h2>Game Rules</h2>
        <p>
          1️⃣ The game is played on a 3*3 grid.<br />
          2️⃣ Player <strong>X</strong> always starts first.<br />
          3️⃣ Players take turns placing their mark (X or O) in an empty cell.<br />
          4️⃣ The first player to get <strong>three in a row</strong> —
          horizontally, vertically, or diagonally — wins!<br />
          5️⃣ If all cells are filled and no player has three in a row, the game
          ends in a <strong>draw</strong><br />
          6️⃣ Click <strong>“Restart Game”</strong> anytime to start a new round
        </p>
      </section>
    </main>

    <script>
      const boardElement = document.getElementById("board");
      const infoElement = document.getElementById("info");
      let board = Array(9).fill(null);
      let currentPlayer = "X";
      let gameActive = true;

      function renderBoard() {
        boardElement.innerHTML = "";
        board.forEach((cell, index) => {
          const cellElement = document.createElement("div");
          cellElement.classList.add("cell");
          cellElement.innerText = cell || "";
          cellElement.addEventListener("click", () => handleCellClick(index));
          boardElement.appendChild(cellElement);
        });
      }

      function handleCellClick(index) {
        if (!gameActive || board[index]) return;
        board[index] = currentPlayer;
        checkWinner();
        currentPlayer = currentPlayer === "X" ? "O" : "X";
        if (gameActive)
          infoElement.innerText = `Player ${currentPlayer}'s turn`;
        renderBoard();
      }

      function checkWinner() {
        const winningCombinations = [
          [0, 1, 2],
          [3, 4, 5],
          [6, 7, 8],
          [0, 3, 6],
          [1, 4, 7],
          [2, 5, 8],
          [0, 4, 8],
          [2, 4, 6],
        ];

        for (const combo of winningCombinations) {
          const [a, b, c] = combo;
          if (board[a] && board[a] === board[b] && board[a] === board[c]) {
            gameActive = false;
            infoElement.innerText = `Player ${board[a]} wins!`;
            return;
          }
        }

        if (!board.includes(null)) {
          gameActive = false;
          infoElement.innerText = "It's a draw!";
        }
      }

      function restartGame() {
        board = Array(9).fill(null);
        currentPlayer = "X";
        gameActive = true;
        infoElement.innerText = "Player X's turn";
        renderBoard();
      }

      renderBoard();
    </script>
  </body>
</html>
